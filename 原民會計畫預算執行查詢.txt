<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>計畫預算執行年度總表</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body {
            font-family: "Microsoft JhengHei", Arial, sans-serif;
            background-color: #f5f7fa;
            padding: 20px;
        }
        .card {
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            border: none;
        }
        .card-header {
            background-color: #4361ee;
            color: white;
            border-radius: 10px 10px 0 0 !important;
            padding: 15px 20px;
            font-weight: bold;
        }
        .table th {
            background-color: #f8f9fa;
        }
        .table-responsive {
            border-radius: 0 0 10px 10px;
        }
        .section-title {
            background-color: #e9ecef;
            padding: 8px 15px;
            font-weight: bold;
            border-left: 4px solid #4361ee;
        }
        .number-cell {
            text-align: right;
            font-family: monospace;
        }
        .percentage {
            color: #0d6efd;
            font-weight: bold;
        }
        .filter-section {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .result-section {
            display: none;
        }
        .active-section {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <h1 class="text-center mb-4">計畫預算執行年度總表</h1>
        
        <!-- 篩選區域 -->
        <div class="card filter-section">
            <div class="row g-3">
                <div class="col-md-4">
                    <label for="yearSelect" class="form-label">年度</label>
                    <select class="form-select" id="yearSelect">
                        <option value="113">113年</option>
                        <option value="114" selected>114年</option>
                        <option value="115">115年</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="planSelect" class="form-label">計畫</label>
                    <select class="form-select" id="planSelect">
                        <option value="plan1">強化部落安全防（減）災機</option>
                        <option value="plan2">部落基礎建設改善計畫</option>
                        <option value="plan3">原民文化傳承發展計畫</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="attributeSelect" class="form-label">查詢屬性</label>
                    <select class="form-select" id="attributeSelect">
                        <option value="approved" selected>核定</option>
                        <option value="bid">決標後</option>
                        <option value="reserved">年度保留</option>
                    </select>
                </div>
                <div class="col-12 text-center mt-3">
                    <button class="btn btn-primary" id="queryBtn">
                        <i class="bi bi-search"></i> 查詢
                    </button>
                    <button class="btn btn-outline-secondary" id="resetBtn">
                        <i class="bi bi-arrow-repeat"></i> 重置
                    </button>
                </div>
            </div>
        </div>

        <!-- 核定結果 -->
        <div class="card result-section active-section" id="approvedResult">
            <div class="card-header">核定結果 - 114年度 強化部落安全防（減）災機</div>
            <div class="card-body">
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="d-flex justify-content-between border-bottom pb-2 mb-2">
                            <span>計畫經費：</span>
                            <span class="fw-bold">180,000,000 元</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex justify-content-between border-bottom pb-2 mb-2">
                            <span>核定件數：</span>
                            <span class="fw-bold">32 件</span>
                        </div>
                    </div>
                </div>

                <h6 class="section-title mt-4">可支用預算數</h6>
                <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>項目</th>
                                <th>本年度</th>
                                <th>以前年度</th>
                                <th>合計</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>可支用預算數</td>
                                <td class="number-cell">150,000,000</td>
                                <td class="number-cell">30,000,000</td>
                                <td class="number-cell fw-bold">180,000,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h6 class="section-title mt-4">核定數</h6>
                <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>項目</th>
                                <th>本年度</th>
                                <th>保留數</th>
                                <th>合計</th>
                                <th>核定率</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>核定數</td>
                                <td class="number-cell">170,000,000</td>
                                <td class="number-cell">21,600,000</td>
                                <td class="number-cell fw-bold">191,600,000</td>
                                <td class="number-cell percentage">106.45%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 決標後結果 -->
        <div class="card result-section" id="bidResult">
            <div class="card-header">決標後結果 - 114年度 強化部落安全防（減）災機</div>
            <div class="card-body">
                <h6 class="section-title">發包數</h6>
                <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>項目</th>
                                <th>本年度</th>
                                <th>保留數</th>
                                <th>合計</th>
                                <th>發包率</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>發包數</td>
                                <td class="number-cell">110,000,000</td>
                                <td class="number-cell">15,200,000</td>
                                <td class="number-cell fw-bold">125,200,000</td>
                                <td class="number-cell percentage">64.03%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h6 class="section-title mt-4">執行數</h6>
                <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                        <thead class="table-light">
                            <tr>
                                <th rowspan="2">項目</th>
                                <th colspan="3" class="text-center">本年度</th>
                                <th colspan="3" class="text-center">保留</th>
                                <th rowspan="2">合計</th>
                                <th rowspan="2">達成率</th>
                            </tr>
                            <tr>
                                <th>實支數</th>
                                <th>應付未付數</th>
                                <th>結餘款</th>
                                <th>實支數</th>
                                <th>應付未付數</th>
                                <th>結餘款</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>執行數</td>
                                <td class="number-cell">85,000,000</td>
                                <td class="number-cell">15,000,000</td>
                                <td class="number-cell">10,000,000</td>
                                <td class="number-cell">12,000,000</td>
                                <td class="number-cell">2,500,000</td>
                                <td class="number-cell">700,000</td>
                                <td class="number-cell fw-bold">125,200,000</td>
                                <td class="number-cell percentage">65.32%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 年度保留結果 -->
        <div class="card result-section" id="reservedResult">
            <div class="card-header">年度保留結果 - 114年度 強化部落安全防（減）災機</div>
            <div class="card-body">
                <h6 class="section-title">保留數</h6>
                <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>項目</th>
                                <th>實支數</th>
                                <th>應付未付數</th>
                                <th>結餘款</th>
                                <th>合計</th>
                                <th>達成率</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>保留數</td>
                                <td class="number-cell">12,000,000</td>
                                <td class="number-cell">2,500,000</td>
                                <td class="number-cell">700,000</td>
                                <td class="number-cell fw-bold">15,200,000</td>
                                <td class="number-cell percentage">84.44%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h6 class="section-title mt-4">改列數</h6>
                <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                        <thead class="table-light">
                            <tr>
                                <th rowspan="2">項目</th>
                                <th colspan="2" class="text-center">本年度</th>
                                <th colspan="2" class="text-center">保留</th>
                                <th colspan="2" class="text-center">合計</th>
                            </tr>
                            <tr>
                                <th>件數</th>
                                <th>金額</th>
                                <th>件數</th>
                                <th>金額</th>
                                <th>件數</th>
                                <th>金額</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>改列數</td>
                                <td class="number-cell">5</td>
                                <td class="number-cell">3,500,000</td>
                                <td class="number-cell">3</td>
                                <td class="number-cell">2,100,000</td>
                                <td class="number-cell fw-bold">8</td>
                                <td class="number-cell fw-bold">5,600,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h6 class="section-title mt-4">註銷數</h6>
                <div class="table-responsive">
                    <table class="table table-bordered table-hover">
                        <thead class="table-light">
                            <tr>
                                <th>項目</th>
                                <th>件數</th>
                                <th>金額</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>註銷數</td>
                                <td class="number-cell">2</td>
                                <td class="number-cell">1,200,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const attributeSelect = document.getElementById('attributeSelect');
            const queryBtn = document.getElementById('queryBtn');
            const resetBtn = document.getElementById('resetBtn');
            const results = {
                approved: document.getElementById('approvedResult'),
                bid: document.getElementById('bidResult'),
                reserved: document.getElementById('reservedResult')
            };

            // 根據選擇的屬性顯示對應的結果
            function showResult() {
                // 隱藏所有結果
                for (let key in results) {
                    results[key].classList.remove('active-section');
                }
                
                // 顯示選擇的結果
                const selectedAttribute = attributeSelect.value;
                results[selectedAttribute].classList.add('active-section');
            }

            // 查詢按鈕點擊事件
            queryBtn.addEventListener('click', showResult);
            
            // 重置按鈕點擊事件
            resetBtn.addEventListener('click', function() {
                attributeSelect.value = 'approved';
                showResult();
            });

            // 初始化顯示
            showResult();
        });
    </script>
</body>
</html>